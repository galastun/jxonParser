var jxonFactory=angular.module("jxonParser",[]);jxonFactory.factory("jxonParser",jxonParser);function jxonParser(){return{parseXML:t,parseNode:r,parseXMLFile:n,toString:a};function e(e){this["#parent"]=e}function r(r,t){function n(e){if(/^\s*$/.test(e)){return null}if(/^(true|false)$/i.test(e)){return e.toLowerCase()==="true"}if(isFinite(e)){return parseFloat(e)}if(isFinite(Date.parse(e))){return new Date(e)}return e}function a(e){var r=null,t=0,n=0;var a=[];if(e.attributes){r=e.attributes;t=r.length;for(n=0;n<t;n++)a.push(r.item(n))}r=e.childNodes;t=r.length;for(n=0;n<t;n++)a.push(r.item(n));return a}var i=null,s=0,u=0;i=a(r);s=i.length;if(s===0)return this.emptyXMLValue;var o=new e(t),l=null;var f="",d=null,c="",x;var p=true;for(u=0;u<s;u++){l=i[u];x=l.nodeType;switch(x){case 1:f=l.nodeName;d=this.parseNode(l,o);break;case 2:f="@"+l.nodeName;d=l.nodeValue.replace(/^\s+|\s+$/g,"");d=n(d);break;case 3:f="#text";if(c===null)c="";c=c+l.nodeValue.replace(/^\s+|\s+$/g,"");d=c;break;case 4:f="#text";if(c===null)c="";c=c+l.nodeValue;d=c;break}if(s===1&&x!==1)return n(d);if(o[f]===undefined||f==="#text"){if(f!=="#text"||d.length!=0)o[f]=d;if(f!=="#text")p=false}else if(o[f]instanceof Array)o[f].push(d);else o[f]=[o[f],d]}if(p)return n(o["#text"]);return o}function t(r){if(window.DOMParser){parser=new DOMParser;xml_doc=parser.parseFromString(r,"text/xml")}else{xml_doc=new ActiveXObject("Microsoft.XMLDOM");xml_doc.async=false;xml_doc.loadXML(r)}var t=xml_doc.documentElement;if(t===undefined||t===null)return null;var n=new e;n[t.nodeName]=this.parseNode(t,n);return n}function n(e){var r=this;var t=new Promise(function(t,n){var a=new FileReader;a.addEventListener("loadend",function(){t(r.parseXML(a.result))});a.readAsText(e)});return t}function a(){if(this["#text"]!==undefined)return this["#text"];return"[Object JXONNode]"}}